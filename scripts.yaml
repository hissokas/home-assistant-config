##################
# ANDREW CONTROL #
##################

#Turn on fan and sound machine, and turn off lights
andrew_room_bedtime:
  sequence:
#    - service: switch.turn_on
#      data:
#        entity_id: switch.andrew_sound_machine
#    - service: fan.turn_on
#      data:
#        entity_id: fan.bedroom_ceiling_fan_level
    - service: scene.turn_on
      data:
        entity_id: scene.wakeup_light_on
    - delay:
        seconds: 2
    - service: light.turn_off
      data:
        entity_id: light.andrew_bedroom
    - service: light.turn_off
      data:
        entity_id: light.andrew_monitor_backlight
    - service: homeassistant.turn_off
      data:
        entity_id: switch.wemo_switch

#Wake up light, fading red, turns off sound machine and fan after transition
andrew_light_slow_on:
  sequence:
    - service: scene.turn_on
      data:
        entity_id: scene.wakeup_light_transition
    - delay:
        minutes: 2
    - service: switch.turn_off
      data:
        entity_id: switch.andrew_sound_machine
    - service: fan.turn_off
      data:
        entity_id: fan.bedroom_ceiling_fan_level

andrew_wakeup:
  sequence:
    - service: script.turn_on
      data:
        entity_id: script.andrew_room_pre_bed
    - service: switch.turn_off
      data:
        entity_id: switch.andrew_sound_machine
    - service: fan.turn_off
      data:
        entity_id: fan.bedroom_ceiling_fan_level

#Turn off all room things, arm security
andrew_gone:
  sequence:
    - service: light.turn_off
      data:
        entity_id: light.andrew_bedroom
    - service: light.turn_off
      data:
        entity_id: light.andrew_monitor_backlight
    - service: switch.turn_off
      data:
        entity_id: switch.andrew_sound_machine
    - service: fan.turn_off
      data:
        entity_id: fan.bedroom_ceiling_fan_level
    - delay:
        seconds: 5
    - service: homeassistant.turn_on
      data:
        entity_id: input_boolean.arlo_status

#Turn on lights and disarm cameras, notify
andrew_arrived:
  sequence:
    - service: homeassistant.turn_off
      data:
        entity_id: input_boolean.arlo_status
    - delay:
        seconds: 5
    - service: scene.turn_on
      data:
        entity_id: scene.andrew_light_full

############
# SECURITY #
############

arlo_disarm:
  sequence:
    - service: ifttt.trigger
      data: {"event":"arlo_disarm"}
    - delay:
        seconds: 5
    - service: ifttt.trigger
      data: {"event":"arlo_disarm"}
    - service: notify.home_assistant
      data:
        message: Disrmed!

arlo_arm:
  sequence:
    - service: ifttt.trigger
      data: {"event":"arlo_arm"}
    - service: notify.home_assistant
      data:
        message: Armed!

##########
# SCENES #
##########

#Call scene to turn all lights in room on
andrew_room_light_full:
  sequence:
    - service: scene.turn_on
      data:
        entity_id: scene.andrew_light_full


#Call scene to dim lights
andrew_room_pre_bed:
  sequence:
    - service: scene.turn_on
      data:
        entity_id: scene.prebed_light

#########
# OTHER #
#########

set_ac_75:
  sequence:
    - service: climate.set_temperature
      data:
        entity_id: climate.thermostat
        temperature: 75

set_ac_78:
  sequence:
    - service: climate.set_temperature
      data:
        entity_id: climate.thermostat
        temperature: 78

set_ac_82:
  sequence:
    - service: climate.set_temperature
      data:
        entity_id: climate.thermostat
        temperature: 82 

panic:
  sequence:
    - service: notify.home_assistant
      data:
        message: "Help!"
        title: "Panic!!"
        data:
          priority: 2
          expire: 3600
          retry: 30

mom_and_dad_gate_toggle:
  sequence:
    - service: shell_command.mom_and_dad_gate_toggle
######
# IR #
######

